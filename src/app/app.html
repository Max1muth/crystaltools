<div class="editor-container">
  <div class="canvas-wrapper">
    <div class="background-layer" 
         [style.backgroundImage]="backgroundImage ? 'url(' + backgroundImage + ')' : 'none'">
    </div>

    <canvas #mainCanvas 
            (mousedown)="onMouseDown($event)" 
            (mousemove)="onMouseMove($event)" 
            (mouseup)="onMouseUp()">
    </canvas>
  </div>

  <div class="controls">
    <h3>Crystools Web v1.0</h3>
    
    <div class="slider-group">
      <span>Прозрачность холста: {{ opacity }}%</span>
      <input type="range" min="0" max="100" [(ngModel)]="opacity">
    </div>

    <div class="slider-group">
      <span>Угол поворота: {{ angle }}°</span>
      <input type="range" min="0" max="360" [(ngModel)]="angle">
    </div>

    <div class="actions">
      <button (click)="mode = 'simple'">Кисть</button>
      <button (click)="mode = 'extrapolation'">Экстраполяция</button>
      <button (click)="extrapolate()" class="btn-primary">ЭКСТРАПОЛИРОВАТЬ</button>
      <button (click)="clear_points()">Очистить точки</button>
      <button (click)="triggerFileInput()">ЗАГРУЗИТЬ ФОН</button>
    </div>
    
    <input type="file" (change)="onFileSelected($event)" id="fileInput" style="display:none" accept="image/*">
  </div>
</div>